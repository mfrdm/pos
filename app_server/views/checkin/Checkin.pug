div(class="columns row")
	div(class="row colums")
		div(class="column")
			h2 Check-in List
		// Setting
		div(class="row column")
			div(class="column small-3")
				ul(class="menu")
					li
						a(class="button primary" ng-click="vm.ctrl.toggleCheckInDiv()") 
							span(class="show-for-large") Check-in
							i(class="material-icons customIcon hide-for-large") add
			div(class="column small-9")
				ul(class="menu clearfix")
					li(class="float-right marginL15")
						<a class="button secondary" ng-click="vm.ctrl.toggleFilterDiv()"><span class="show-for-large">Filters</span><i class="material-icons customIcon hide-for-large">filter_list</i></a>
					li(class="float-right")
						ul(class="menu")
							li: label(class="paddingR15 show-for-large") Sort by
							li: select(ng-model="vm.model.orderBy" ng-options="key as value for (key , value) in vm.model.orderOptions")
		// Check-in
		div(class="column")
			div(class="borderT newBox row column paddingLR15 callout primary" ng-show="vm.model.dom.checkInDiv")
				div(class="row column")
					form(ng-submit="vm.ctrl.searchCustomers('checkInDiv')")
						div(class="row column")
							label Phone/Email
								input(type="text" placeholder="Enter phone or email to search customer" ng-model='vm.model.search.username')
						div(ng-show='vm.model.dom.messageSearchResult' class='marginB15')
							div(class='callout alert')
								p {{vm.model.search.messageNoResult}}
									span: a(href='/#!/customers') Create new customer
						div(ng-show="vm.model.dom.checkingInCustomerSearchResult" class="marginB15")
							div(class="table-scroll")
								table(class="hover unstriped borderAll")
									thead
										tr
											th No
											th Last Name
											th Middle Name
											th First Name
											th Email
											th Phone				
									tbody
										tr(ng-repeat='noti in vm.noties')
											td {{noti.firstname}}
											td {{noti.msg}}
										tr(ng-repeat='result in vm.model.search.userResults' ng-click='vm.ctrl.selectCustomerToCheckin($index)' class="pointerCursor")
											td {{ $index + 1 }}
											td {{ result.lastname }}
											td {{ result.middlename }}
											td {{ result.firstname }}
											td {{ result.email[0] }}
											td {{ result.phone[0] }}
				
				form(ng-submit="vm.ctrl.checkin ()" confirm-submit = "Are you sure to check")
					div(class='mainSectionCheckin')
						div(class="row column")
							label Promotion Code
								input(type='text' ng-model='vm.model.customer.checkingInData.promocodes')
						
						//Main service for checkin
						div(class="row column")
							label Service
								select(name="selectedService" ng-model="vm.model.customer.checkingInData.orderline[0].productName" ng-options="val for val in vm.model.listMainProducts")
					
					//Other services for checkin
					div(class='selectedItemDiv')
						div(class='row column')
							label Selected Items
								table
									thead
										tr
											th Product
											th Quantity
											th Delete
									tbody
										tr(ng-repeat='product in vm.model.customer.checkingInData.orderline.slice(2)')
											td {{product.productName}}
											td {{product.quantity}}
											td
												input(class="button alert marginB0" type="submit" value="Delete" ng-click='vm.ctrl.deleteSelectService($index); $event.preventDefault()')
						div(class="row column")
							div(class="column small-6 paddingL0")
								label Add Items
									select( ng-model="vm.model.selectedItem.name" ng-options="val for val in vm.model.listOtherProducts")
							div(class="column small-5 paddingL0")
								label Quantity
									input( ng-model="vm.model.selectedItem.quantity" string-to-number type="number" min='0')
							div(class="column small-1 paddingR0 paddingT30 marginB0 text-center")
								input(class="button marginB0 success" type="submit" value="Add" ng-click='vm.ctrl.selectService(); $event.preventDefault()')
					div(class="row column")
						input(class="button" type="submit" value="Submit")
						button(class="button float-right warning" ng-click="vm.ctrl.reload(); $event.preventDefault()") Cancel
		// Filter
		div(class="column" ng-show="vm.model.dom.filterDiv")
			div(class="borderT newBox row column callout secondary")
				div(class="marginB15 column small-12 large-4")
					legend Status
					select(ng-model='vm.model.filter.status' ng-options='key as value for (key , value) in vm.model.statusOptions' ng-init='vm.model.filter.status=1')
						option
				div(class='marginB15 column small-12 large-4')
					legend Search By Firstname
					input(type='text' ng-model='vm.model.filter.customer.firstname')
				div(class='marginB15 column small-12 large-4')
					legend Search By Phone
					input(type='text' ng-model='vm.model.filter.customer.phone')

		
		// Edit check-in
		div(class="column" ng-show="vm.model.dom.checkInEditDiv")
			div(class='borderT newBox row column paddingLR15 callout alert')
				form(ng-submit="vm.ctrl.edit ()" confirm-submit = "Are you sure to edit")
					h3 {{ vm.model.customer.editedCheckedInCustomer.customer.lastname}} {{ vm.model.customer.editedCheckedInCustomer.customer.middlename}} {{ vm.model.customer.editedCheckedInCustomer.customer.firstname}}
					//Main service for edit
					div(class="row column")
						label Service
							select(name="selectedService" ng-model="vm.model.customer.editedCheckedInCustomer.orderline[0].productName" ng-options="val for val in vm.model.listMainProducts")
					
					//Other services for edit
					div(class='row column')
						label Selected Items
							table
								thead
									tr
										th Product
										th Quantity
										th Delete
								tbody
									tr(ng-repeat='product in vm.model.customer.editedCheckedInCustomer.orderline.slice(1)')
										td {{product.productName}}
										td {{product.quantity}}
										td
											input(class="button alert marginB0" type='submit' value="Delete" ng-click='vm.ctrl.deleteSelectEditService(product); $event.preventDefault()')
					div(class="row column")
						div(class="column small-6 paddingL0")
							label Add Items
								select( ng-model="vm.model.selectedToEditItem.name" ng-options="val for val in vm.model.listOtherProducts")
						div(class="column small-5 paddingL0")
							label Quantity
								input( ng-model="vm.model.selectedToEditItem.quantity" string-to-number type="number" min='0')
						div(class="column small-1 paddingR0 paddingT30 marginB0 text-center")
							input(class="button marginB0 success" type="submit" value="Add" ng-click='vm.ctrl.selectServiceToEdit(); $event.preventDefault()')
					div(class="row column")
						input(class="button" type="submit" value="Submit")
						button(class="button float-right warning" ng-click="vm.ctrl.reload(); $event.preventDefault()") Cancel
		// Check-in list
		div(class="column" ng-show="vm.model.dom.checkInListDiv")
			div(class="table-scroll newBox")
				table(class="borderAll")
					thead
						tr
							th No
							th Name
							th Phone
							th Checkin Date
							th Checkin Time
							th Checkout Date
							th Checkout Time
							th Service
							th Checkout
							th Edit
					tbody
						tr(ng-repeat='customer in vm.model.customer.checkedInList | filter:vm.model.filter | orderBy: [vm.model.orderBy]')
							td {{ $index + 1 }}
							td {{customer.customer.lastname}} {{customer.customer.middlename}} {{ customer.customer.firstname }} 
							td {{ customer.customer.phone }}
							td {{ customer.checkinTime | date:'dd/MM/yyyy' }}
							td {{ customer.checkinTime | date: 'shortTime' }}
							td {{ customer.checkoutTime | date:'dd/MM/yyyy' }}
							td {{ customer.checkoutTime | date: 'shortTime' }}
							td {{ customer.orderline[0].productName	}}
							td
								button(type="button" ng-if='customer.status == 1' class="warning button" ng-click="vm.ctrl.getInvoiceForCheckout (customer)") Checkout
								button(type='button' ng-if='customer.status == 2' class="disabled button") Checkout
							td
								button(type="button" ng-if='customer.status == 1' class="alert button" ng-click="vm.ctrl.editCheckInCustomer (customer)") Edit
								button(type='button' ng-if='customer.status == 2' class="disabled button") Edit

//Confirm checkin order list


//Invoice
div(ng-show='vm.model.dom.checkOutDiv' id='checkoutDiv')
	div(class='row column paddingT45')
		div(class="row column small-12 text-center large-6large-push-3")
			h2 Invoice for {{vm.model.customer.checkoutCustomer.customer.lastname}} {{vm.model.customer.checkoutCustomer.customer.middlename}} {{vm.model.customer.checkoutCustomer.customer.firstname}}
		form(class="row column small-12 large-6 large-push-3 invoice" ng-submit='vm.ctrl.confirmCheckout()' confirm-submit = "Are you sure to checkout")
			div(class="borderT newBox row column")
				table(class="borderAll")
					tbody
						tr
							th(class='text-center') Fullname
							td(colspan="2" class='text-center') {{ vm.model.customer.checkoutCustomer.customer.lastname}} {{ vm.model.customer.checkoutCustomer.customer.middlename}} {{ vm.model.customer.checkoutCustomer.customer.firstname}}
						tr
							th(class='text-center') Phone
							td(colspan="2" class='text-center') {{ vm.model.customer.checkoutCustomer.customer.phone}}
						tr

							th(class='text-center') Checkin
							td(class='text-center hightlight') {{ vm.model.customer.checkoutCustomer.checkinTime | date:'shortTime'}}
							td(class='text-center') {{ vm.model.customer.checkoutCustomer.checkinTime | date:'dd/MM/yyyy'}}
						tr

							th(class='text-center') Checkout
							td(class='text-center hightlight') {{ vm.model.customer.checkoutCustomer.checkoutTime | date:'shortTime'}}
							td(class='text-center') {{ vm.model.customer.checkoutCustomer.checkoutTime | date:'dd/MM/yyyy'}}
						tr
							th(class='text-center') Main Service
							td(class='text-center hightlight') {{ vm.model.customer.checkoutCustomer.orderline[0].productName}}
							td(class='text-center hightlight' width="150") {{ vm.model.customer.checkoutCustomer.orderline[0].quantity}}
						tr(ng-repeat='service in vm.model.customer.checkoutCustomer.orderline.slice(1)')
							th(class='text-center') Other products
							td(class='text-center hightlight') {{ service.productName}}
							td(class='text-center hightlight' width="150") {{ service.quantity}}
						tr

							th(class='text-center') Total Money
							td(colspan="2" class='text-center hightlight') {{ vm.model.customer.checkoutCustomer.total}}
			div(class="row column")
				div(class='column small-12 large-paddingLR0')
					input(class="paddingL15 button success" type="submit" value="Confirm")
					button(class=" paddingR15 button float-right" ng-click='vm.ctrl.reload()') Cancel
	